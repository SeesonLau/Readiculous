@model Readiculous.Services.ServiceModels.EditProfileViewModel

<div class="modal-header">
    <h5 class="modal-title">Edit Profile</h5>
</div>

<div class="modal-body">
    <form id="editProfileForm" asp-controller="Home" asp-action="EditProfile" method="POST" enctype="multipart/form-data">
        <input type="hidden" asp-for="UserId" />
        <input type="hidden" asp-for="CreatedBy" />
        <input type="hidden" asp-for="CreatedTime" />
        <input type="hidden" asp-for="ProfilePictureUrl" />

        <div class="position-relative text-center mb-5" style="height: 120px;">
            <!-- Banner -->
            <div class="rounded-4 position-absolute top-0 start-50 translate-middle-x"
                 style="width: 100%; height: 125px; z-index: 0; background-color: var(--color-header)"></div>

            <!-- Profile Image -->
            @if (string.IsNullOrEmpty(Model.ProfilePictureUrl))
            {
                <img src="~/img/profile-logo.png" alt="Default Picture"
                     class="rounded-circle img-thumbnail position-absolute start-50 translate-middle-x"
                     style="width: 150px; height: 150px; top: 20px; z-index: 1;" />
            }
            else
            {
                <img src="@Model.ProfilePictureUrl" alt="Current Picture"
                     class="rounded-circle img-thumbnail position-absolute start-50 translate-middle-x"
                     style="width: 150px; height: 150px; top: 20px; z-index: 1;" />
            }
        </div>

        <!-- Username -->
        <div class="mb-3">
            <label asp-for="Username" class="form-label"></label>
            <input asp-for="Username" class="form-control" />
            <span asp-validation-for="Username" class="text-danger"></span>
        </div>

        <!-- Email -->
        <div class="mb-3">
            <label asp-for="Email" class="form-label"></label>
            <input asp-for="Email" class="form-control" readonly />
            <span asp-validation-for="Email" class="text-danger"></span>
        </div>

        <!-- Current Password -->
        <div class="mb-3">
            <label asp-for="CurrentPassword" class="form-label"></label>
            <input asp-for="CurrentPassword" class="form-control" type="password" placeholder="Leave blank to keep current password" />
            <span asp-validation-for="CurrentPassword" class="text-danger"></span>
        </div>

        <!-- New Password -->
        <div class="mb-3">
            <label asp-for="NewPassword" class="form-label"></label>
            <input asp-for="NewPassword" class="form-control" type="password" placeholder="Leave blank to keep current password" />
            <span asp-validation-for="NewPassword" class="text-danger"></span>
        </div>

        <!-- Confirm Password -->
        <div class="mb-3">
            <label asp-for="ConfirmPassword" class="form-label"></label>
            <input asp-for="ConfirmPassword" class="form-control" type="password" placeholder="Leave blank to keep current password" />
            <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
        </div>

        <!-- Profile Picture Input -->
        <div class="mb-3">
            <label asp-for="ProfilePicture" class="form-label">Profile Picture</label>
            <input asp-for="ProfilePicture" type="file" class="form-control" />
            <span asp-validation-for="ProfilePicture" class="text-danger"></span>
        </div>

        <!-- Action Buttons -->
        <div class="d-flex justify-content-end gap-2">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary">Save</button>
        </div>
    </form>
</div>