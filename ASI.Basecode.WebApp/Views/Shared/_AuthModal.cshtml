<div class="custom-modal hidden" id="authModal">
    <div class="modal-content" style="position: relative;">
        <button class="modal-close" onclick="closeAuthModal()">✕</button>
        <div class="auth-columns">

            <!-- LOGIN -->
            <div class="auth-box" id="loginForm">
                <img src="@Url.Content("~/img/png-logo.png")" class="auth-icon" />
                <h2>Welcome to Readiculous</h2>

                <input type="text" id="login-username" placeholder="Username" class="form-input" />
                <input type="password" id="login-password" placeholder="Password" class="form-input" />
                <button class="auth-btn" onclick="signIn()">Sign In</button>
                <p id="loginError" class="error-message" style="display: none;">Invalid login</p>

                <p>
                    <a href="#" id="showForgot">Forgot Password?</a><br />
                    Don’t have an account? <a href="#" id="showRegister">Sign up</a>
                </p>
            </div>

            <!-- REGISTER -->
            <div class="auth-box hidden" id="registerForm">
                <img src="@Url.Content("~/img/png-logo.png")" class="auth-icon" />
                <h2>Create Your Account</h2>
                <input type="email" id="register-email" placeholder="Email" class="form-input" />
                <button class="auth-btn" onclick="register()">Sign Up</button>
                <p>Already have an account? <a href="#" id="showLogin">Sign in</a></p>
            </div>

            <!-- FORGOT PASSWORD -->
            <div class="auth-box hidden" id="forgotForm">
                <img src="@Url.Content("~/img/png-logo.png")" class="auth-icon" />
                <h2>Reset Your Password</h2>
                <input type="email" id="forgot-email" placeholder="Enter your email" class="form-input" />
                <button class="auth-btn" onclick="showOTPForm()">Reset Password</button>
                <a href="#" id="backToLogin" class="auth-btn back-btn">Back</a>
            </div>

            <!-- OTP -->
            <div class="auth-box hidden" id="otpForm">
                <img src="@Url.Content("~/img/email.png")" class="auth-icon" />
                <h2>Enter Verification Code</h2>
                <input type="text" id="otp-code" placeholder="Enter OTP Code" class="form-input" />
                <button class="auth-btn" onclick="showNewPasswordForm()">Continue</button>
                <a href="#" id="backToForgot" class="auth-btn back-btn">Back</a>
            </div>

            <!-- NEW PASSWORD -->
            <div class="auth-box hidden" id="newPasswordForm">
                <img src="@Url.Content("~/img/typing-icon.png")" class="auth-icon" />
                <h2>Create New Password</h2>
                <input type="password" id="new-password" placeholder="New Password" class="form-input" />
                <input type="password" id="confirm-new-password" placeholder="Confirm Password" class="form-input" />
                <button class="auth-btn" onclick="showSuccessForm()">Submit</button>
                <a href="#" id="backToOTP" class="auth-btn back-btn">Back</a>
            </div>

            <!-- SUCCESS (Password Reset) -->
            <div class="auth-box hidden" id="successForm">
                <img src="@Url.Content("~/img/successfully.png")" class="auth-icon" />
                <h2>Password Successfully Reset</h2>
                <p>You can now log in with your new password.</p>
                <button class="auth-btn" onclick="showLoginForm()">Done</button>
            </div>

            <!-- REGISTRATION SUCCESS -->
            <div class="auth-box hidden" id="registrationSuccessForm">
                <img src="@Url.Content("~/img/mewmewhap.png")" class="auth-icon" />
                <h2>Registration Successful!</h2>
                <p><em>You have successfully created your account.</em></p>
                <p>You may now continue, or optionally update your account details.</p>
                <p class="mt-3"><strong>Your current details:</strong></p>
                <p>Username: <span id="success-username">[YourUsername]</span></p>
                <p>Email: <span id="success-email">[YourEmail]</span></p>
                <p>Password: ●●●●●●</p>
                <p class="mt-3">Would you like to make any changes?</p>
                <button class="auth-btn" onclick="showOnlyById('registerForm')">Edit Details</button>
                <button class="auth-btn back-btn" onclick="closeAuthModal()">Continue</button>
            </div>

            <!-- LOGIN REQUIRED -->
            <div class="auth-box hidden" id="loginRequiredBox">
                <img src="@Url.Content("~/img/mewmew.png")" class="auth-icon" />
                <h2>Login Required</h2>
                <p>You need to login to review more books.</p>
                <button class="auth-btn" onclick="showOnlyById('loginForm')">Login</button>
                <button class="auth-btn" onclick="showOnlyById('registerForm')">Sign Up</button>
            </div>

            <!-- DELETE CONFIRMATION -->
            <div class="auth-box hidden" id="deleteModal">
                <img src="@Url.Content("~/img/sadmewmew.png")" alt="Sad Cat" class="auth-icon" style="width: 140px;" />
                <h3>Are you sure you want to delete?</h3>
                <div style="margin-top: 1.5rem;">
                    <button class="auth-btn save-btn" onclick="confirmDelete()">Delete</button>
                    <button class="auth-btn back-btn" onclick="closeDeleteModal()">Cancel</button>
                </div>
            </div>

        </div>
    </div>
</div>
